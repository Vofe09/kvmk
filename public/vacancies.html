<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–í–∞–∫–∞–Ω—Å–∏–∏ ‚Äî –¢—Ä—É–¥–æ–≤–æ–π –º–æ—Å—Ç</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>–¢—Ä—É–¥–æ–≤–æ–π –º–æ—Å—Ç</h1>
    <nav>
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="vacancies.html" class="active">–í–∞–∫–∞–Ω—Å–∏–∏</a>
      <a href="add-job.html">–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é</a>
      <a href="login.html">–í—Ö–æ–¥</a>
      <a href="register.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
    </nav>
  </header>

  <section class="jobs">
    <h2>–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏</h2>
    <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π..." onkeyup="filterJobs()">
    <div id="job-list" class="job-list"></div>
  </section>

  <footer>
    <p>¬© 2025 –¢—Ä—É–¥–æ–≤–æ–π –º–æ—Å—Ç</p>
  </footer>

  <script>
    const jobList = document.getElementById('job-list');
    const jobs = JSON.parse(localStorage.getItem('jobs')) || [];

    function renderJobs(list) {
      jobList.innerHTML = '';
      if(list.length === 0) jobList.innerHTML = "<p>–ü–æ–∫–∞ –Ω–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–π. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é!</p>";
      
      list.forEach((job, index) => {
        const div = document.createElement('div');
        div.classList.add('job-card');
        div.innerHTML = `
          <h3>üë§ ${job.title}</h3>
          <p>${job.description}</p>
          <span>üí∞ –û–ø–ª–∞—Ç–∞: ${job.salary}</span><br>
          <span>üìû –¢–µ–ª–µ—Ñ–æ–Ω: ${job.phone}</span><br><br>
          <button onclick="deleteJob(${index})" class="delete-btn">–£–¥–∞–ª–∏—Ç—å</button>
        `;
        jobList.appendChild(div);
      });
    }

    function deleteJob(index) {
      const jobs = JSON.parse(localStorage.getItem('jobs')) || [];
      jobs.splice(index, 1); // —É–¥–∞–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∞–∫–∞–Ω—Å–∏—é
      localStorage.setItem('jobs', JSON.stringify(jobs));
      renderJobs(jobs); // –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    }

    function filterJobs() {
      const search = document.getElementById("search").value.toLowerCase();
      const filtered = jobs.filter(job => 
        job.title.toLowerCase().includes(search) || job.description.toLowerCase().includes(search)
      );
      renderJobs(filtered);
    }

    renderJobs(jobs);
  </script>
</body>
</html>